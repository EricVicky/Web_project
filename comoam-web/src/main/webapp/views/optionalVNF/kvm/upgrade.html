
<div class="container-fluid" ng-controller="ovmupgradectr">
    <div class="row">
        <div class="col-md-10">
            <div rc-wizard="kvmovmupgradeWizard" class="modal-body">
                <section id="wizard">
                    <div id="rootwizard">
                        <ul class="nav rc-nav-wizard" style="margin-left: 100px">
                            <li class="active"><a class="active" href="#tab1"
                                data-toggle="tab"> <span class="badge">1</span> <span>COM
                                        Info&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
                            </a></li>
                            <li><a href="#tab2" data-toggle="tab"> <span
                                    class="badge">2</span> <span>Select Image&nbsp;&nbsp;</span>
                            </a></li>
                            <li><a href="#tab3" data-toggle="tab"> <span
                                    class="badge">3</span> <span>Deploy&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
                            </a></li>
                        </ul>
                        <div class="modal-body col-md-12">
                            <div class="tab-content">
                                <form class="tab-pane active ng-pristine ng-valid" id="tab1"
                                    name="tab1" rc-submit="reloadimglist()" rc-step>
                                    <div class="panel panel-default">
                                        <div class="panel-heading">
                                            <label class="control-label">COM Instance</label> <select
                                                ng-change="reloadinstallconfig()" name="com_instance"
                                                ng-model="com_instance" class="form-control"
                                                ng-options="  inst.name for inst in kvmcomInstance"
                                                title="COM Instance">
                                                <option value="" default>--Please Select--</option>
                                            </select>
                                        </div>
                                        <div class="panel-body" ng-if="com_instance != null">
                                            <div class="dataTable_wrapper">
                                                <table
                                                    class="table table-striped table-bordered table-hover"
                                                    id="dataTables-example">
                                                    <tbody>
                                                        <tr align="center">
                                                            <td colspan="2" translate="COM_TYPE">COM Type</td>
                                                            <td>{{installConfig.comType}}</td>
                                                        </tr>
                                                        <tr align="center">
                                                            <td colspan="2">Host IP</td>
                                                            <td>{{installConfig.active_host_ip}}</td>
                                                        </tr>
                                                        <tr align="center">
                                                            <td colspan="2">Prefix of VM Instance</td>
                                                            <td>{{installConfig.deployment_prefix}}</td>
                                                        </tr>
                                                        <tr align="center">
                                                            <td rowspan="3" width="25%" align="center"
                                                                style="vertical-align: middle">OVM</td>
                                                            <td width="35%">IP Address</td>
                                                            <td>{{installConfig.vm_config.ovm.ip_address}}</td>
                                                        </tr>
                                                        <tr align="center">
                                                            <td>Flavor</td>
                                                            <td>vCPU:{{installConfig.vm_config.ovm.flavor.vCpu}}&nbsp;&nbsp;Memory:{{installConfig.vm_config.ovm.flavor.memory/1024/1024}}GB&nbsp;&nbsp;Disk:{{installConfig.vm_config.ovm.flavor.disk}}GB</td>
                                                        </tr>
                                                        <tr align="center">
                                                            <td>Image</td>
                                                            <td>{{installConfig.vm_config.ovm.imgname}}</td>
                                                        </tr>
                                                    </tbody>
                                                </table>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="form-group col-md-12">
                                        <label class="control-label">VM image directory</label>
                                        <input name="vm_image_dir" class="form-control" type="text" ng-model="installConfig.vm_img_dir" title="VM image directory" placeholder="Please Insert VM Image Dir" validation="required" readOnly/>
                                    </div>
                                </form>
                                <form class="tab-pane" id="tab2" name="tab2" rc-submit rc-step>
                                    <fieldset>
                                        <div class="form-group col-md-6">
                                            <label class="control-label">OVM image</label>
											<div class="input-group">
                                             		<select  form="tab2" name="oam_cm_image" class="form-control" ng-model="installConfig.vm_config.ovm.imgname" title="OAM/CM image" ng-options=" im for im in imagelist" validation="required"> </select> <span class="validation text-danger" ng-show="tab2.oam_cm_image.$error.samefieldvalue">same image</span>
													<span class="input-group-btn">
        													<button class="btn btn-default glyphicon glyphicon-refresh" ng-click="reloadimglist()" type="button"></button>
     												</span>
											</div>
                                        </div>
                                    </fieldset>
                                </form>
                                <form class="tab-pane" id="tab3" name="tab3" rc-submit rc-step>
                                    <div class="panel panel-default">
                                        <div class="panel-heading">
                                            <label class="control-label">Upgrade Summary</label>
                                        </div>
                                        <div class="panel-body">
                                            <div class="dataTable_wrapper">
                                                <table
                                                    class="table table-striped table-bordered table-hover"
                                                    id="dataTables-example">
                                                    <tbody>
                                                        <tr align="center">
                                                            <td colspan="2" translate="COM_TYPE">COM Type</td>
                                                            <td>{{installConfig.comType}}</td>
                                                        </tr>
                                                        <tr align="center">
                                                            <td colspan="2">Host IP</td>
                                                            <td>{{installConfig.active_host_ip}}</td>
                                                        </tr>
                                                        <tr align="center">
                                                            <td colspan="2">Prefix of VM Instance</td>
                                                            <td>{{installConfig.deployment_prefix}}</td>
                                                        </tr>
                                                        <tr align="center">
                                                            <td rowspan="3" width="25%" align="center"
                                                                style="vertical-align: middle">OVM</td>
                                                            <td width="35%">IP Address</td>
                                                            <td>{{installConfig.vm_config.ovm.ip_address}}</td>
                                                        </tr>
                                                        <tr align="center">
                                                            <td>Flavor</td>
                                                            <td>vCPU:{{installConfig.vm_config.ovm.flavor.vCpu}}&nbsp;&nbsp;Memory:{{installConfig.vm_config.ovm.flavor.memory/1024/1024}}GB&nbsp;&nbsp;Disk:{{installConfig.vm_config.ovm.flavor.disk}}GB</td>
                                                        </tr>
                                                        <tr align="center">
                                                            <td>Image</td>
                                                            <td>{{installConfig.vm_config.ovm.imgname}}</td>
                                                        </tr>
                                                    </tbody>
                                                </table>
                                            </div>
                                        </div>
                                    </div>
                                </form>
                            </div>
                        </div>
                        <div class="modal-footer">
                            <div class="form-group">
                                <div class="pull-right">
                                    <a class="btn btn-default"
                                        ng-click="rc.kvmovmupgradeWizard.backward()"
                                        ng-show="rc.kvmovmupgradeWizard.currentIndex > rc.kvmovmupgradeWizard.firstIndex">Back</a>
                                    <a class="btn btn-primary"
                                        ng-click="rc.kvmovmupgradeWizard.forward()"
                                        ng-show="rc.kvmovmupgradeWizard.currentIndex < rc.kvmovmupgradeWizard.navigationLength">Continue</a>
                                    <a class="btn btn-primary" ng-click="upgrade()"
                                        ng-show="rc.kvmovmupgradeWizard.currentIndex == rc.kvmovmupgradeWizard.navigationLength">Upgrade</a>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>
            </div>
            </div>
    </div>
</div>